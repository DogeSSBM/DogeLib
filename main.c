#include "Includes.h"

const char *map = "\
############################\
#............##............#\
#.####.#####.##.#####.####.#\
#@####.#####.##.#####.####@#\
#.####.#####.##.#####.####.#\
#..........................#\
#.####.##.########.##.####.#\
#.####.##.########.##.####.#\
#......##....##....##......#\
######.#####.##.#####.######\
     #.#####.##.#####.#     \
     #.##..........##.#     \
     #.##.###~~###.##.#     \
######.##.###  ###.##.######\
..........##GGGG##..........\
######.##.########.##.######\
     #.##.########.##.#     \
     #.##..........##.#     \
     #.##.########.##.#     \
######.##.########.##.######\
#............##............#\
#.####.#####.##.#####.####.#\
#.####.#####.##.#####.####.#\
#@..##................##..@#\
###.##.##.########.##.##.###\
###.##.##.########.##.##.###\
#......##....##....##......#\
#.##########.##.##########.#\
#.##########.##.##########.#\
#..........................#\
############################";

#define SCALE 30
#define XLEN 28
#define YLEN 31

int main(int argc, const char const *argv[])
{
	gfx_init(XLEN * SCALE, YLEN * SCALE);
	text_init();
	img_init();

	setColor(BLUE);
	fillScreen();

	setColor(BLACK);
	for(uint y = 0; y < YLEN; y++){
		for(uint x = 0; x < XLEN; x++){
			char c = map[y*XLEN+x];
			if(c == '.' || c == ' ' || c == '@' || c == 'G'){
				fillSquare(x*SCALE-SCALE/3,y*SCALE-SCALE/3,SCALE+(SCALE/3)*2);
			}
		}
	}
	setColor(YELLOW);
	for(uint y = 0; y < YLEN; y++){
		for(uint x = 0; x < XLEN; x++){
			char c = map[y*XLEN+x];
			if(c == '.')
				fillCircle(x*SCALE+SCALE/2,y*SCALE+SCALE/2,3);
			else if(c == '@')
				fillCircle(x*SCALE+SCALE/2,y*SCALE+SCALE/2,8);
		}
	}

	draw();
	while(1){
		delay(3);
		events();
	}

	return 0;
}
